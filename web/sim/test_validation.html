<\!DOCTYPE html>
<html>
<head>
    <title>Validation Test</title>
</head>
<body>
    <h2>Web Sim Validation Test</h2>
    <canvas id="epd" width="250" height="122"></canvas>
    <div id="validationBadge"></div>
    <div id="validationResults"></div>
    
    <script src="ui_spec.js"></script>
    <script src="sim.js"></script>
    <script>
        // Test with problematic data
        setTimeout(() => {
            draw({
                room: "Living Room",
                temp: "72.5",
                temp_out: "68.4",
                rh: "47",
                rh_out: "53",
                pressure: "1013 hPa",
                wind: "12.5 mph",
                percent: "76",
                ip: "192.168.1.100"
            });
            
            // Check validation results
            setTimeout(() => {
                console.log("Validation Issues:", window.validationIssues);
                console.log("Rendered Content:", window.renderedContent);
                
                if (window.validationIssues && window.validationIssues.length > 0) {
                    console.log("Found", window.validationIssues.length, "validation issues");
                    window.validationIssues.forEach(issue => {
                        console.log(`- [${issue.severity}] ${issue.region}: ${issue.description}`);
                    });
                } else {
                    console.log("No validation issues detected");
                }
            }, 500);
        }, 100);
    </script>
</body>
</html>
